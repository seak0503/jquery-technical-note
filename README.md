# book-technical-note

[jQueryテクニカルノート](http://www.sbcr.jp/products/4797385274.html?sku=4797385274)の勉強用リポジトリ

# 補足
## CHAPTER21 
サンプル1で画像のサイズをウィンドウサイズの比率に合わせて計算しているところがある。ここでは補足としてその計算の証明をする。

* 凡例
    * 背景画像サイズ
        * 横幅: 2000px
        * 高さ: 1500px
    * ウィンドウサイズ
        * 横幅: 1500px
        * 高さ: 1000px

### JavaScriptサンプル 3 - 画像の比率計算

ソースコードの下記の部分の計算について証明する

```
imgRatio = setFull.width() / setFull.height();
```

* 証明
    1. 画像サイズの比率は`2000 : 1500`なので、5で割ると`4 : 3`になる。
    2. `4: 3`は`4 / 3`なので、4割る3で`1.33333` となる

### JavaScriptサンプル 5 - 画像の高さをウィンドウサイズの比率に合わせる

ソースコードの下記の部分の計算について証明する

```
imgRatio = setFull.width() / setFull.height();

function imgFit()
  var wdWidth = $(window).width(),
      wdHeight = $(window).height(),
      setHeight = Math.round(wdWidth / imgRatio)
```

* 証明
    1. 画像サイズの比率は`4 : 3`である
    2. ウィンドウサイズの比率は`1500 : 1000`である
    3. 画像の横幅をウィンドウの横幅と同じ1500にしたら、高さはいくつかを考える
    4. `4 : 3 = 1500 : x`
    5. `4x = 4500`
    6. `x = 1125` 高さは1125になる。
    7. 上記をソースコードでの計算方法に置き換えると、、、
    8. `4 : 3 = 1500 : x`
    9. `4 / 3 = 1500 / x`
    10. `1.33333 = 1500 / x` この両辺にxをかける
    11. `1.33333x = 1500`
    12. `x = 1500 / 1.33333`
    13. `1124.0.28...`
    14. `Math.round(1124.0.28...)`
    15. `x = 1125` 高さは1125になる


### JavaScriptサンプル 6 - 画像の横幅をウィンドウサイズの比率に合わせる

ソースコードの下記の部分の計算について証明する

```
if(setHeight < wdHeight) {
  setHeight = $(window).height();
  wdWidth = Math.round(setHeight * imgRatio);
}
```

* 証明
    1. 画像サイズの比率は`4 : 3`である
    2. ウィンドウサイズの比率は`1500 : 1000`である
    3. 画像の高さをウィンドウの高さと同じ1000にしたら、横幅はいくつかを考える
    4. `4 : 3 = x : 1125`
    5. `3x = 4500`
    6. `x = 1500` 横幅は1500になる
    7. 上記をソースコードでの計算方法に置き換えると、、、
    8. `4 : 3 = x : 1125`
    9. `4 / 3 = x / 1125`
    10. `1.33333 = x / 1125` この両辺に1125をかける
    11. `1.33333 * 1125 = x`
    12. 11の両辺を入れ替える
    13. `x = 1.33333 * 1125`
    14. `x = 1499.99625`
    15. `Math.round(1499.99625)`
    16. `x = 1500` 横幅は1500になる


